{% extends "base.html" %}

{% block title %}English Games - Colores{% endblock %}

{% block extra_css %}
<link
    rel="stylesheet"
    href="{{ url_for('static', filename='css/english_games.css') }}"
>
{% endblock %}

{% block content %}
<div class="english-game-container">
    <header class="english-header">
        <h1>ğŸ¨ English Colors</h1>
        <p id="eg-description">
            Arrastra la palabra en inglÃ©s hasta su pareja correcta.
        </p>
    </header>

    <!-- ğŸ”¹ Panel de usuario -->
    <div class="user-panel">
        <!-- Vista invitado -->
        <div id="gameUserGuest">
            <p class="user-status">
                EstÃ¡s jugando como <strong>invitado</strong>. Inicia sesiÃ³n desde la parte superior
                para guardar tus puntuaciones y aparecer en el ranking.
            </p>
        </div>

        <!-- Vista usuario logueado -->
        <div id="gameUserLogged" class="hidden">
            <p>ğŸ‘¤ SesiÃ³n iniciada como: <strong id="currentUserName"></strong></p>
            <p>
                ğŸ† Mejor puntuaciÃ³n global (todos los niveles):
                <span id="currentUserBestScore">0</span>
            </p>
            <p>ğŸ“ˆ PuntuaciÃ³n acumulada:
                <span id="currentUserTotalScore">0</span>
            </p>
            <p>ğŸš Mejor puntuaciÃ³n en este nivel:
                <span id="currentUserLevelBestScore">0</span>
            </p>
        </div>
    </div>

    <!-- Selector de nivel -->
    <section class="english-levels">
        <label for="eg-level-select">Nivel:</label>
        <select id="eg-level-select">
            <option value="1">Nivel 1 â€” Colores bÃ¡sicos</option>
            <option value="2">Nivel 2 â€” 15 colores</option>
            <option value="3">Nivel 3 â€” Frases + imÃ¡genes (1 color)</option>
            <option value="4">Nivel 4 â€” Frases + imÃ¡genes (2 colores)</option>
            <option value="5">Nivel 5 â€” CombinaciÃ³n de colores (3 colores)</option>
        </select>
    </section>

    <!-- HUD: info de partida -->
    <section class="english-hud">
        <div class="hud-item">
            â¤ï¸ Vidas: <span id="eg-lives">3</span>
        </div>
        <div class="hud-item">
            â­ PuntuaciÃ³n: <span id="eg-score">0</span>
        </div>
        <div class="hud-item">
            ğŸ“š Nivel: <span id="eg-level">1</span>
        </div>
        <div class="hud-item">
            â± Tiempo: <span id="eg-time">0</span>s
        </div>
    </section>

    <!-- Ãrea principal del juego -->
    <main class="english-game-board">
        <!-- Columna de palabras / frases -->
        <section class="english-words-panel">
            <h2>Palabras / frases</h2>
            <div id="eg-words" class="english-words-list">
                <!-- Se rellena desde JS -->
            </div>
        </section>

        <!-- Columna de objetivos (colores o imÃ¡genes) -->
        <section class="english-targets-panel">
            <h2 id="eg-targets-title">Objetivos</h2>
            <div id="eg-targets" class="english-targets-grid">
                <!-- Se rellena desde JS -->
            </div>
        </section>
    </main>

    <!-- Zona de controles y mensajes -->
    <section class="english-controls">
        <button id="eg-start-btn" class="btn-primary">
            Empezar nivel
        </button>

        <p id="eg-message" class="english-message">
            Pulsa <strong>â€œEmpezar nivelâ€</strong> para jugar.
        </p>
    </section>

    <!-- ğŸ”¹ Ranking del juego -->
    <section class="english-ranking">
        <h2>ğŸ† Ranking English Colors</h2>
        <p class="ranking-hint">
            Se muestran las mejores puntuaciones de todos los jugadores.
        </p>
        <table class="ranking-table">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Usuario</th>
                    <th>Mejor puntuaciÃ³n</th>
                    <th>Partidas</th>
                </tr>
            </thead>
            <tbody id="eg-ranking-body">
                <!-- Rellenado por JS -->
            </tbody>
        </table>
    </section>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/english_games.js') }}"></script>
{% endblock %}
